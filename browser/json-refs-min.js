!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.JsonRefs=e()}}(function(){var e;return function t(e,r,n){function o(u,f){if(!r[u]){if(!e[u]){var a="function"==typeof require&&require;if(!f&&a)return a(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[u]={exports:{}};e[u][0].call(c.exports,function(t){var r=e[u][1][t];return o(r?r:t)},c,c.exports,t,e,r,n)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(e,t,r){(function(r,n){"use strict";function o(e,t){e.indexOf(t)===-1&&e.push(t)}function i(e,t){function r(e){Object.keys(e).forEach(function(t){n[t]=e[t]})}var n={};return r(k.parse(e||"")),r(k.parse(t||"")),0===Object.keys(n).length?void 0:k.stringify(n)}function u(e,t){g(e,"String")&&(e=q(e)),g(t,"String")&&(t=q(t));var r,n,o=m(g(t,"Undefined")?"":t);return V.indexOf(o.reference)>-1?n=o:(r=g(e,"Undefined")?void 0:m(e),g(r,"Undefined")?n=o:(n=r,n.path=q(M.join(r.path,o.path)),n.query=i(r.query,o.query))),n.fragment=void 0,(V.indexOf(n.reference)===-1&&0===n.path.indexOf("../")?"../":"")+H.serialize(n)}function f(e,t){var r,n=[];return t.length>0&&(r=e,t.slice(0,t.length-1).forEach(function(e){e in r&&(r=r[e],n.push(r))})),n}function a(e){return J.indexOf(p(e))>-1}function s(e){return g(e.error,"Undefined")&&"invalid"!==e.type}function c(e,t){var r=e;return t.forEach(function(e){if(e=decodeURI(e),!(e in r))throw Error("JSON Pointer points to missing location: "+j(t));r=r[e]}),r}function h(e){return Object.keys(e).filter(function(e){return"$ref"!==e})}function p(e){var t;switch(e.uriDetails.reference){case"absolute":case"uri":t="remote";break;case"same-document":t="local";break;default:t=e.uriDetails.reference}return t}function l(e,t){var r=$[e],n=Promise.resolve(),o=F(t.loaderOptions||{});return g(r,"Undefined")?(g(o.processContent,"Undefined")&&(o.processContent=function(e,t){t(void 0,JSON.parse(e.text))}),n=Y.load(decodeURI(e),o),n=n.then(function(t){return $[e]={value:t},t})["catch"](function(t){throw $[e]={error:t},t})):n=n.then(function(){if(g(r.error,"Error"))throw r.error;return r.value}),n=n.then(function(e){return F(e)})}function d(e,t){var r=!0;try{if(!g(e,"Object"))throw new Error("obj is not an Object");if(!g(e.$ref,"String"))throw new Error("obj.$ref is not a String")}catch(n){if(t)throw n;r=!1}return r}function g(e,t){return"Undefined"===t?"undefined"==typeof e:Object.prototype.toString.call(e)==="[object "+t+"]"}function y(e){return e.indexOf("://")!==-1||M.isAbsolute(e)?e:M.resolve(r.cwd(),e)}function v(e){var t,r;return g(e.filter,"Array")||g(e.filter,"String")?(r=g(e.filter,"String")?[e.filter]:e.filter,t=function(e){return r.indexOf(e.type)>-1||r.indexOf(p(e))>-1}):g(e.filter,"Function")?t=e.filter:g(e.filter,"Undefined")&&(t=function(){return!0}),function(r,n){return("invalid"!==r.type||e.includeInvalid===!0)&&t(r,n)}}function w(e){var t;return g(e.subDocPath,"Array")?t=e.subDocPath:g(e.subDocPath,"String")?t=D(e.subDocPath):g(e.subDocPath,"Undefined")&&(t=[]),t}function E(e,t){e.error=t.message,e.missing=!0}function m(e){return H.parse(encodeURI(decodeURI(e)))}function b(e,t,r){var n,o,i=Promise.resolve(),f=j(t.subDocPath),c=y(t.location),h=c+f;return g(r.docs[c],"Undefined")&&(r.docs[c]=e),g(r.deps[h],"Undefined")&&(r.deps[h]={},n=S(e,t),Object.keys(n).forEach(function(c){var p=n[c],d=y(t.location)+c,v=p.refdId=y(a(p)?u(t.relativeBase,p.uri):t.location)+"#"+(p.uri.indexOf("#")>-1?p.uri.split("#")[1]:"");if(r.refs[d]=p,s(p)){if(r.deps[h][c===f?"#":c.replace(f+"/","#/")]=v,0===d.indexOf(v+"/"))return void(p.circular=!0);o=F(t),o.subDocPath=g(p.uriDetails.fragment,"Undefined")?[]:D(decodeURI(p.uriDetails.fragment)),a(p)?(o.location=v.split("#")[0],o.relativeBase=M.dirname(o.location),i=i.then(function(e,t){return function(){var r=y(t.location),n=e.docs[r];return g(n,"Undefined")?l(r,t)["catch"](function(t){return e.docs[r]=t,t}):Promise.resolve().then(function(){return n})}}(r,o))):i=i.then(function(){return e}),i=i.then(function(e,t,r){return function(n){if(g(n,"Error"))E(r,n);else try{return b(n,t,e)["catch"](function(e){E(r,e)})}catch(o){E(r,o)}}}(r,o,p))}})),i}function A(e,t,r){c(e,t.slice(0,t.length-1))[decodeURI(t[t.length-1])]=r}function P(e,t,r,n){function o(t,o){r.push(o),P(e,t,r,n),r.pop()}var i=!0;g(n,"Function")&&(i=n(e,t,r)),e.indexOf(t)===-1&&(e.push(t),i!==!1&&(g(t,"Array")?t.forEach(function(e,t){o(e,t.toString())}):g(t,"Object")&&Object.keys(t).forEach(function(e){o(t[e],e)})),e.pop())}function O(e,t){if(e=g(e,"Undefined")?{}:F(e),!g(e,"Object"))throw new TypeError("options must be an Object");if(!(g(e.filter,"Undefined")||g(e.filter,"Array")||g(e.filter,"Function")||g(e.filter,"String")))throw new TypeError("options.filter must be an Array, a Function of a String");if(!g(e.includeInvalid,"Undefined")&&!g(e.includeInvalid,"Boolean"))throw new TypeError("options.includeInvalid must be a Boolean");if(!g(e.refPreProcessor,"Undefined")&&!g(e.refPreProcessor,"Function"))throw new TypeError("options.refPreProcessor must be a Function");if(!g(e.refPostProcessor,"Undefined")&&!g(e.refPostProcessor,"Function"))throw new TypeError("options.refPostProcessor must be a Function");if(!g(e.subDocPath,"Undefined")&&!g(e.subDocPath,"Array")&&!x(e.subDocPath))throw new TypeError("options.subDocPath must be an Array of path segments or a valid JSON Pointer");if(e.filter=v(e),e.subDocPath=w(e),!g(t,"Undefined"))try{c(t,e.subDocPath)}catch(r){throw r.message=r.message.replace("JSON Pointer","options.subDocPath"),r}return g(e.location,"Undefined")&&(e.location=u(e.relativeBase,"./root.json")),e.location=u(e.location,void 0),e.relativeBase=M.dirname(e.location),e}function _(){$={}}function C(e){if(!g(e,"Array"))throw new TypeError("path must be an array");return e.map(function(e){return g(e,"String")||(e=JSON.stringify(e)),decodeURI(e.replace(/~1/g,"/").replace(/~0/g,"~"))})}function R(e){if(!g(e,"Array"))throw new TypeError("path must be an array");return e.map(function(e){return g(e,"String")||(e=JSON.stringify(e)),e.replace(/~/g,"~0").replace(/\//g,"~1")})}function S(e,t){var r={};if(!g(e,"Array")&&!g(e,"Object"))throw new TypeError("obj must be an Array or an Object");return t=O(t,e),P(f(e,t.subDocPath),c(e,t.subDocPath),F(t.subDocPath),function(e,n,o){var i,u,f=!0;return d(n)&&(g(t.refPreProcessor,"Undefined")||(n=t.refPreProcessor(F(n),o)),i=U(n),g(t.refPostProcessor,"Undefined")||(i=t.refPostProcessor(i,o)),t.filter(i,o)&&(u=j(o),r[u]=i),h(n).length>0&&(f=!1)),f}),r}function T(e,t){var r=Promise.resolve();return r=r.then(function(){if(!g(e,"String"))throw new TypeError("location must be a string");return g(t,"Undefined")&&(t={}),g(t,"Object")&&(t.location=u(t.relativeBase,e)),t=O(t),l(t.location,t)}).then(function(e){var r=F($[t.location]),n=F(t),o=m(t.location);return g(r.refs,"Undefined")&&(delete n.filter,delete n.subDocPath,n.includeInvalid=!0,$[t.location].refs=S(e,n)),g(t.filter,"Undefined")||(n.filter=t.filter),g(o.fragment,"Undefined")?g(o.subDocPath,"Undefined")||(n.subDocPath=t.subDocPath):n.subDocPath=D(decodeURI(o.fragment)),{refs:S(e,n),value:e}})}function U(e){var t,r,n,o={def:e};try{d(e,!0)?(t=e.$ref,n=Z[t],g(n,"Undefined")&&(n=Z[t]=m(t)),o.uri=t,o.uriDetails=n,g(n.error,"Undefined")?o.type=p(o):(o.error=o.uriDetails.error,o.type="invalid"),r=h(e),r.length>0&&(o.warning="Extra JSON Reference properties will be ignored: "+r.join(", "))):o.type="invalid"}catch(i){o.error=i.message,o.type="invalid"}return o}function x(e,t){var r,n=!0;try{if(!g(e,"String"))throw new Error("ptr is not a String");if(""!==e){if(r=e.charAt(0),["#","/"].indexOf(r)===-1)throw new Error("ptr must start with a / or #/");if("#"===r&&"#"!==e&&"/"!==e.charAt(1))throw new Error("ptr must start with a / or #/");if(e.match(z))throw new Error("ptr has invalid token(s)")}}catch(o){if(t===!0)throw o;n=!1}return n}function I(e,t){return d(e,t)&&"invalid"!==U(e,t).type}function D(e){if(!x(e))throw new Error("ptr must be a JSON Pointer");var t=e.split("/");return t.shift(),C(t)}function j(e,t){if(!g(e,"Array"))throw new Error("path must be an Array");return(t!==!1?"#":"")+(e.length>0?"/":"")+R(e).join("/")}function N(e,t){var r=Promise.resolve();return r=r.then(function(){if(!g(e,"Array")&&!g(e,"Object"))throw new TypeError("obj must be an Array or an Object");t=O(t,e),e=F(e)}).then(function(){var r={deps:{},docs:{},refs:{}};return b(e,t,r).then(function(){return r})}).then(function(e){function r(o,i,u){var f,a=e.refs[i];return n[j(t.subDocPath.concat(u))]=a,a.circular||!s(a)?void(!a.circular&&a.error&&(a.error=a.error.replace("options.subDocPath","JSON Pointer"),a.error.indexOf("#")>-1&&(a.error=a.error.replace(a.uri.substr(a.uri.indexOf("#")),a.uri)),0!==a.error.indexOf("ENOENT:")&&0!==a.error.indexOf("Not Found")||(a.error="JSON Pointer points to missing location: "+a.uri))):(f=e.deps[a.refdId],void(0!==a.refdId.indexOf(o)&&Object.keys(f).forEach(function(e){r(a.refdId,a.refdId+e.substr(1),u.concat(D(e)))})))}var n={},i=[],u=[],f=new L.Graph,h=y(t.location),p=h+j(t.subDocPath);return Object.keys(e.deps).forEach(function(e){f.setNode(e)}),Object.keys(e.deps).forEach(function(t){Object.keys(e.deps[t]).forEach(function(r){f.setEdge(t,e.deps[t][r])})}),i=L.alg.findCycles(f),i.forEach(function(e){e.forEach(function(e){o(u,e)})}),Object.keys(e.deps).forEach(function(t){Object.keys(e.deps[t]).forEach(function(r){var n,o=!1,f=t+r.slice(1),s=e.deps[t][r],c=e.refs[t+r.slice(1)],h=a(c);u.indexOf(s)>-1&&i.forEach(function(e){o||(n=e.indexOf(s),n>-1&&e.forEach(function(t){o||0===f.indexOf(t+"/")&&(h&&n===e.length-1||!h)&&(o=!0)}))}),o&&(c.circular=!0)})}),Object.keys(e.deps).forEach(function(t){var r=t.split("#"),n=e.docs[r[0]],o=D(r[1]);Object.keys(e.deps[t]).forEach(function(i){var u=e.deps[t][i],f=u.split("#"),a=e.docs[f[0]],s=o.concat(D(i)),h=e.refs[r[0]+j(s)];if(g(h.error,"Undefined")&&g(h.missing,"Undefined"))if(h.circular)h.value=h.def;else{try{h.value=c(a,D(f[1]))}catch(p){return void E(h,p)}""===r[1]&&"#"===i?e.docs[r[0]]=h.value:A(n,s,h.value)}})}),Object.keys(e.refs).forEach(function(e){0===e.indexOf(p)&&r(p,e,D(e.substr(p.length)))}),Object.keys(e.refs).forEach(function(t){var r=e.refs[t];delete r.refdId}),{refs:n,resolved:e.docs[h]}})}function B(e,t){var r=Promise.resolve();return r=r.then(function(){if(!g(e,"String"))throw new TypeError("location must be a string");return g(t,"Undefined")&&(t={}),g(t,"Object")&&(t.location=u(t.relativeBase,e)),t=O(t),l(t.location,t)}).then(function(e){var r=F(t),n=m(t.location);return g(n.fragment,"Undefined")||(r.subDocPath=D(decodeURI(n.fragment))),N(e,r).then(function(t){return{refs:t.refs,resolved:t.resolved,value:e}})})}var F=e("clone"),L="undefined"!=typeof window?window.graphlib:"undefined"!=typeof n?n.graphlib:null,M=e("path"),Y="undefined"!=typeof window?window.PathLoader:"undefined"!=typeof n?n.PathLoader:null,k=e("querystring"),q=e("slash"),H=e("uri-js"),z=/~(?:[^01]|$)/g,$={},J=["relative","remote"],V=["absolute","uri"],Z={};"undefined"==typeof Promise&&e("native-promise-only"),t.exports.clearCache=_,t.exports.decodePath=C,t.exports.encodePath=R,t.exports.findRefs=S,t.exports.findRefsAt=T,t.exports.getRefDetails=U,t.exports.isPtr=x,t.exports.isRef=I,t.exports.pathFromPtr=D,t.exports.pathToPtr=j,t.exports.resolveRefs=N,t.exports.resolveRefsAt=B}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:9,clone:5,"native-promise-only":7,path:8,querystring:12,slash:13,"uri-js":19}],2:[function(e,t,r){"use strict";function n(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)a[t]=e[t],s[e.charCodeAt(t)]=t;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63}function o(e){var t,r,n,o,i,u,f=e.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===e[f-2]?2:"="===e[f-1]?1:0,u=new c(3*f/4-i),n=i>0?f-4:f;var a=0;for(t=0,r=0;t<n;t+=4,r+=3)o=s[e.charCodeAt(t)]<<18|s[e.charCodeAt(t+1)]<<12|s[e.charCodeAt(t+2)]<<6|s[e.charCodeAt(t+3)],u[a++]=o>>16&255,u[a++]=o>>8&255,u[a++]=255&o;return 2===i?(o=s[e.charCodeAt(t)]<<2|s[e.charCodeAt(t+1)]>>4,u[a++]=255&o):1===i&&(o=s[e.charCodeAt(t)]<<10|s[e.charCodeAt(t+1)]<<4|s[e.charCodeAt(t+2)]>>2,u[a++]=o>>8&255,u[a++]=255&o),u}function i(e){return a[e>>18&63]+a[e>>12&63]+a[e>>6&63]+a[63&e]}function u(e,t,r){for(var n,o=[],u=t;u<r;u+=3)n=(e[u]<<16)+(e[u+1]<<8)+e[u+2],o.push(i(n));return o.join("")}function f(e){for(var t,r=e.length,n=r%3,o="",i=[],f=16383,s=0,c=r-n;s<c;s+=f)i.push(u(e,s,s+f>c?c:s+f));return 1===n?(t=e[r-1],o+=a[t>>2],o+=a[t<<4&63],o+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],o+=a[t>>10],o+=a[t>>4&63],o+=a[t<<2&63],o+="="),i.push(o),i.join("")}r.toByteArray=o,r.fromByteArray=f;var a=[],s=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array;n()},{}],3:[function(e,t,r){(function(t){"use strict";function n(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=u.prototype):(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return f(this,e,t,r)}function f(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?l(e,t,r,n):"string"==typeof t?h(e,t,r):d(e,t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number')}function s(e,t,r,n){return a(t),t<=0?i(e,t):void 0!==r?"string"==typeof n?i(e,t).fill(r,n):i(e,t).fill(r):i(e,t)}function c(e,t){if(a(t),e=i(e,t<0?0:0|g(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(t,r);return e=i(e,n),e.write(t,r),e}function p(e,t){var r=0|g(t.length);e=i(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function l(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),u.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=u.prototype):e=p(e,t),e}function d(e,t){if(u.isBuffer(t)){var r=0|g(t.length);return e=i(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||G(t.length)?i(e,0):p(e,t);if("Buffer"===t.type&&X(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),u.alloc(+e)}function v(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(n)return z(e).length;t=(""+t).toLowerCase(),n=!0}}function w(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return U(this,t,r);case"binary":return x(this,t,r);case"base64":return R(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function E(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n){function o(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}var i=1,u=e.length,f=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,u/=2,f/=2,r/=2}for(var a=-1,s=r;s<u;++s)if(o(e,s)===o(t,a===-1?0:s-a)){if(a===-1&&(a=s),s-a+1===f)return a*i}else a!==-1&&(s-=s-a),a=-1;return-1}function b(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;var i=t.length;if(i%2!==0)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var u=0;u<n;++u){var f=parseInt(t.substr(2*u,2),16);if(isNaN(f))return u;e[r+u]=f}return u}function A(e,t,r,n){return Z(z(t,e.length-r),e,r,n)}function P(e,t,r,n){return Z($(t),e,r,n)}function O(e,t,r,n){return P(e,t,r,n)}function _(e,t,r,n){return Z(V(t),e,r,n)}function C(e,t,r,n){return Z(J(t,e.length-r),e,r,n)}function R(e,t,r){return 0===t&&r===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i=e[o],u=null,f=i>239?4:i>223?3:i>191?2:1;if(o+f<=r){var a,s,c,h;switch(f){case 1:i<128&&(u=i);break;case 2:a=e[o+1],128===(192&a)&&(h=(31&i)<<6|63&a,h>127&&(u=h));break;case 3:a=e[o+1],s=e[o+2],128===(192&a)&&128===(192&s)&&(h=(15&i)<<12|(63&a)<<6|63&s,h>2047&&(h<55296||h>57343)&&(u=h));break;case 4:a=e[o+1],s=e[o+2],c=e[o+3],128===(192&a)&&128===(192&s)&&128===(192&c)&&(h=(15&i)<<18|(63&a)<<12|(63&s)<<6|63&c,h>65535&&h<1114112&&(u=h))}}null===u?(u=65533,f=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),o+=f}return T(n)}function T(e){var t=e.length;if(t<=W)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=W));return r}function U(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function x(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function I(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=H(e[i]);return o}function D(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function j(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function B(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function F(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function L(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,n,o){return o||L(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,r,n,23,4),r+4}function Y(e,t,r,n,o){return o||L(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,r,n,52,8),r+8}function k(e){if(e=q(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],u=0;u<n;++u){if(r=e.charCodeAt(u),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(u+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function $(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function J(e,t){for(var r,n,o,i=[],u=0;u<e.length&&!((t-=2)<0);++u)r=e.charCodeAt(u),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function V(e){return K.toByteArray(k(e))}function Z(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function G(e){return e!==e}var K=e("base64-js"),Q=e("ieee754"),X=e("isarray");r.Buffer=u,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),r.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return f(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return s(null,e,t,r)},u.allocUnsafe=function(e){return c(null,e)},u.allocUnsafeSlow=function(e){return c(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!X(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},u.byteLength=v,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)E(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)E(this,t,t+3),E(this,t+1,t+2);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):w.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var i=o-n,f=r-t,a=Math.min(i,f),s=this.slice(n,o),c=e.slice(t,r),h=0;h<a;++h)if(s[h]!==c[h]){i=s[h],f=c[h];break}return i<f?-1:f<i?1:0},u.prototype.indexOf=function(e,t,r){if("string"==typeof t?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(t<0&&(t=Math.max(this.length+t,0)),"string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(this,e,t,r);if("number"==typeof e)return u.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):m(this,[e],t,r);throw new TypeError("val must be string, number or Buffer")},u.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":return P(this,e,t,r);case"binary":return O(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;u.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);var n;if(u.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=u.prototype;else{var o=t-e;n=new u(o,(void 0));for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,r){e=0|e,t=0|t,r||j(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},u.prototype.readUIntBE=function(e,t,r){e=0|e,t=0|t,r||j(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e=0|e,t=0|t,r||j(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e=0|e,t=0|t,r||j(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},u.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),Q.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),Q.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),Q.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),Q.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t=0|t,r=0|r,!n){var o=Math.pow(2,8*r)-1;N(this,e,t,r,o,0)}var i=1,u=0;for(this[t]=255&e;++u<r&&(i*=256);)this[t+u]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t=0|t,r=0|r,!n){var o=Math.pow(2,8*r)-1;N(this,e,t,r,o,0)}var i=r-1,u=1;for(this[t+i]=255&e;--i>=0&&(u*=256);)this[t+i]=e/u&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=0|t,!n){var o=Math.pow(2,8*r-1);N(this,e,t,r,o-1,-o)}var i=0,u=1,f=0;for(this[t]=255&e;++i<r&&(u*=256);)e<0&&0===f&&0!==this[t+i-1]&&(f=1),this[t+i]=(e/u>>0)-f&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=0|t,!n){var o=Math.pow(2,8*r-1);N(this,e,t,r,o-1,-o)}var i=r-1,u=1,f=0;for(this[t+i]=255&e;--i>=0&&(u*=256);)e<0&&0===f&&0!==this[t+i+1]&&(f=1),this[t+i]=(e/u>>0)-f&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return Y(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return Y(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e=255&e);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");
if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var i;if("number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var f=u.isBuffer(e)?e:z(new u(e,n).toString()),a=f.length;for(i=0;i<r-t;++i)this[i+t]=f[i%a]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":2,ieee754:6,isarray:4}],4:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],5:[function(e,t,r){(function(e){var r=function(){"use strict";function t(e,t){return null!=t&&e instanceof t}function r(n,o,i,u,s){function p(n,i){if(null===n)return null;if(0===i)return n;var y,v;if("object"!=typeof n)return n;if(t(n,a))y=new a;else if(t(n,c))y=new c;else if(t(n,h))y=new h(function(e,t){n.then(function(t){e(p(t,i-1))},function(e){t(p(e,i-1))})});else if(r.__isArray(n))y=[];else if(r.__isRegExp(n))y=new RegExp(n.source,f(n)),n.lastIndex&&(y.lastIndex=n.lastIndex);else if(r.__isDate(n))y=new Date(n.getTime());else{if(g&&e.isBuffer(n))return y=new e(n.length),n.copy(y),y;t(n,Error)?y=Object.create(n):"undefined"==typeof u?(v=Object.getPrototypeOf(n),y=Object.create(v)):(y=Object.create(u),v=u)}if(o){var w=l.indexOf(n);if(w!=-1)return d[w];l.push(n),d.push(y)}t(n,a)&&n.forEach(function(e,t){var r=p(t,i-1),n=p(e,i-1);y.set(r,n)}),t(n,c)&&n.forEach(function(e){var t=p(e,i-1);y.add(t)});for(var E in n){var m;v&&(m=Object.getOwnPropertyDescriptor(v,E)),m&&null==m.set||(y[E]=p(n[E],i-1))}if(Object.getOwnPropertySymbols)for(var b=Object.getOwnPropertySymbols(n),E=0;E<b.length;E++){var A=b[E],P=Object.getOwnPropertyDescriptor(n,A);(!P||P.enumerable||s)&&(y[A]=p(n[A],i-1),P.enumerable||Object.defineProperty(y,A,{enumerable:!1}))}if(s)for(var O=Object.getOwnPropertyNames(n),E=0;E<O.length;E++){var _=O[E],P=Object.getOwnPropertyDescriptor(n,_);P&&P.enumerable||(y[_]=p(n[_],i-1),Object.defineProperty(y,_,{enumerable:!1}))}return y}"object"==typeof o&&(i=o.depth,u=o.prototype,s=o.includeNonEnumerable,o=o.circular);var l=[],d=[],g="undefined"!=typeof e;return"undefined"==typeof o&&(o=!0),"undefined"==typeof i&&(i=1/0),p(n,i)}function n(e){return Object.prototype.toString.call(e)}function o(e){return"object"==typeof e&&"[object Date]"===n(e)}function i(e){return"object"==typeof e&&"[object Array]"===n(e)}function u(e){return"object"==typeof e&&"[object RegExp]"===n(e)}function f(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}var a;try{a=Map}catch(s){a=function(){}}var c;try{c=Set}catch(s){c=function(){}}var h;try{h=Promise}catch(s){h=function(){}}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=n,r.__isDate=o,r.__isArray=i,r.__isRegExp=u,r.__getRegExpFlags=f,r}();"object"==typeof t&&t.exports&&(t.exports=r)}).call(this,e("buffer").Buffer)},{buffer:3}],6:[function(e,t,r){r.read=function(e,t,r,n,o){var i,u,f=8*o-n-1,a=(1<<f)-1,s=a>>1,c=-7,h=r?o-1:0,p=r?-1:1,l=e[t+h];for(h+=p,i=l&(1<<-c)-1,l>>=-c,c+=f;c>0;i=256*i+e[t+h],h+=p,c-=8);for(u=i&(1<<-c)-1,i>>=-c,c+=n;c>0;u=256*u+e[t+h],h+=p,c-=8);if(0===i)i=1-s;else{if(i===a)return u?NaN:(l?-1:1)*(1/0);u+=Math.pow(2,n),i-=s}return(l?-1:1)*u*Math.pow(2,i-n)},r.write=function(e,t,r,n,o,i){var u,f,a,s=8*i-o-1,c=(1<<s)-1,h=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:i-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,u=c):(u=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-u))<1&&(u--,a*=2),t+=u+h>=1?p/a:p*Math.pow(2,1-h),t*a>=2&&(u++,a/=2),u+h>=c?(f=0,u=c):u+h>=1?(f=(t*a-1)*Math.pow(2,o),u+=h):(f=t*Math.pow(2,h-1)*Math.pow(2,o),u=0));o>=8;e[r+l]=255&f,l+=d,f/=256,o-=8);for(u=u<<o|f,s+=o;s>0;e[r+l]=255&u,l+=d,u/=256,s-=8);e[r+l-d]|=128*g}},{}],7:[function(t,r,n){(function(t){!function(t,n,o){n[t]=n[t]||o(),"undefined"!=typeof r&&r.exports?r.exports=n[t]:"function"==typeof e&&e.amd&&e(function(){return n[t]})}("Promise","undefined"!=typeof t?t:this,function(){"use strict";function e(e,t){p.add(e,t),h||(h=d(p.drain))}function t(e){var t,r=typeof e;return null==e||"object"!=r&&"function"!=r||(t=e.then),"function"==typeof t&&t}function r(){for(var e=0;e<this.chain.length;e++)n(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function n(e,r,n){var o,i;try{r===!1?n.reject(e.msg):(o=r===!0?e.msg:r.call(void 0,e.msg),o===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=t(o))?i.call(o,n.resolve,n.reject):n.resolve(o))}catch(u){n.reject(u)}}function o(n){var u,a=this;if(!a.triggered){a.triggered=!0,a.def&&(a=a.def);try{(u=t(n))?e(function(){var e=new f(a);try{u.call(n,function(){o.apply(e,arguments)},function(){i.apply(e,arguments)})}catch(t){i.call(e,t)}}):(a.msg=n,a.state=1,a.chain.length>0&&e(r,a))}catch(s){i.call(new f(a),s)}}}function i(t){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=t,n.state=2,n.chain.length>0&&e(r,n))}function u(e,t,r,n){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then(function(e){r(o,e)},n)}(o)}function f(e){this.def=e,this.triggered=!1}function a(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function s(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var n=new a(this);this.then=function(t,o){var i={success:"function"!=typeof t||t,failure:"function"==typeof o&&o};return i.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t}),n.chain.push(i),0!==n.state&&e(r,n),i.promise},this["catch"]=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){o.call(n,e)},function(e){i.call(n,e)})}catch(u){i.call(n,u)}}var c,h,p,l=Object.prototype.toString,d="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),c=function(e,t,r,n){return Object.defineProperty(e,t,{value:r,writable:!0,configurable:n!==!1})}}catch(g){c=function(e,t,r){return e[t]=r,e}}p=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,r,n;return{add:function(o,i){n=new e(o,i),r?r.next=n:t=n,r=n,n=void 0},drain:function(){var e=t;for(t=r=h=void 0;e;)e.fn.call(e.self),e=e.next}}}();var y=c({},"constructor",s,!1);return s.prototype=y,c(y,"__NPO__",0,!1),c(s,"resolve",function(e){var t=this;return e&&"object"==typeof e&&1===e.__NPO__?e:new t(function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");t(e)})}),c(s,"reject",function(e){return new this(function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");r(e)})}),c(s,"all",function(e){var t=this;return"[object Array]"!=l.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");var o=e.length,i=Array(o),f=0;u(t,e,function(e,t){i[e]=t,++f===o&&r(i)},n)})}),c(s,"race",function(e){var t=this;return"[object Array]"!=l.call(e)?t.reject(TypeError("Not an array")):new t(function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");u(t,e,function(e,t){r(t)},n)})}),s})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};r.resolve=function(){for(var r="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var u=i>=0?arguments[i]:e.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(r=u+"/"+r,o="/"===u.charAt(0))}return r=t(n(r.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+r||"."},r.normalize=function(e){var o=r.isAbsolute(e),i="/"===u(e,-1);return e=t(n(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var o=n(e.split("/")),i=n(t.split("/")),u=Math.min(o.length,i.length),f=u,a=0;a<u;a++)if(o[a]!==i[a]){f=a;break}for(var s=[],a=f;a<o.length;a++)s.push("..");return s=s.concat(i.slice(f)),s.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){var t=i(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(e,t){var r=i(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){return i(e)[3]};var u="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,e("_process"))},{_process:9}],9:[function(e,t,r){function n(){p&&c&&(p=!1,c.length?h=c.concat(h):l=-1,h.length&&o())}function o(){if(!p){var e=f(n);p=!0;for(var t=h.length;t;){for(c=h,h=[];++l<t;)c&&c[l].run();l=-1,t=h.length}c=null,p=!1,a(e)}}function i(e,t){this.fun=e,this.array=t}function u(){}var f,a,s=t.exports={};!function(){try{f=setTimeout}catch(e){f=function(){throw new Error("setTimeout is not defined")}}try{a=clearTimeout}catch(e){a=function(){throw new Error("clearTimeout is not defined")}}}();var c,h=[],p=!1,l=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new i(e,t)),1!==h.length||p||f(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=u,s.addListener=u,s.once=u,s.off=u,s.removeListener=u,s.removeAllListeners=u,s.emit=u,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],10:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,i){t=t||"&",r=r||"=";var u={};if("string"!=typeof e||0===e.length)return u;var f=/\+/g;e=e.split(t);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var c=0;c<s;++c){var h,p,l,d,g=e[c].replace(f,"%20"),y=g.indexOf(r);y>=0?(h=g.substr(0,y),p=g.substr(y+1)):(h=g,p=""),l=decodeURIComponent(h),d=decodeURIComponent(p),n(u,l)?o(u[l])?u[l].push(d):u[l]=[u[l],d]:u[l]=d}return u};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],11:[function(e,t,r){"use strict";function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,f){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?n(u(e),function(u){var f=encodeURIComponent(o(u))+r;return i(e[u])?n(e[u],function(e){return f+encodeURIComponent(o(e))}).join(t):f+encodeURIComponent(o(e[u]))}).join(t):f?encodeURIComponent(o(f))+r+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],12:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":10,"./encode":11}],13:[function(e,t,r){"use strict";t.exports=function(e){var t=/^\\\\\?\\/.test(e),r=/[^\x00-\x80]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}},{}],14:[function(e,t,r){var n=function(){function e(e){throw new RangeError(_[e])}function t(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function r(e,r){var n=e.split("@"),o="";n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(O,".");var i=e.split("."),u=t(i,r).join(".");return o+u}function n(e){for(var t,r,n=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(r=e.charCodeAt(o++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--)):n.push(t);return n}function o(e){return t(e,function(e){var t="";return e>65535&&(e-=65536,t+=S(e>>>10&1023|55296),e=56320|1023&e),t+=S(e)}).join("")}function i(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:d}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,r){var n=0;for(e=r?R(e/w):e>>1,e+=R(e/t);e>C*y>>1;n+=d)e=R(e/C);return R(n+(C+1)*e/(e+v))}function a(t){var r,n,u,a,s,c,h,p,v,w,A=[],P=t.length,O=0,_=m,C=E;for(n=t.lastIndexOf(b),n<0&&(n=0),u=0;u<n;++u)t.charCodeAt(u)>=128&&e("not-basic"),A.push(t.charCodeAt(u));for(a=n>0?n+1:0;a<P;){for(s=O,c=1,h=d;a>=P&&e("invalid-input"),p=i(t.charCodeAt(a++)),(p>=d||p>R((l-O)/c))&&e("overflow"),O+=p*c,v=h<=C?g:h>=C+y?y:h-C,!(p<v);h+=d)w=d-v,c>R(l/w)&&e("overflow"),c*=w;r=A.length+1,C=f(O-s,r,0==s),R(O/r)>l-_&&e("overflow"),_+=R(O/r),O%=r,A.splice(O++,0,_)}return o(A)}function s(t){var r,o,i,a,s,c,h,p,v,w,A,P,O,_,C,T=[];for(t=n(t),P=t.length,r=m,o=0,s=E,c=0;c<P;++c)A=t[c],A<128&&T.push(S(A));for(i=a=T.length,a&&T.push(b);i<P;){for(h=l,c=0;c<P;++c)A=t[c],A>=r&&A<h&&(h=A);for(O=i+1,h-r>R((l-o)/O)&&e("overflow"),o+=(h-r)*O,r=h,c=0;c<P;++c)if(A=t[c],A<r&&++o>l&&e("overflow"),A==r){for(p=o,v=d;w=v<=s?g:v>=s+y?y:v-s,!(p<w);v+=d)C=p-w,_=d-w,T.push(S(u(w+C%_,0))),p=R(C/_);T.push(S(u(p,0))),s=f(o,O,i==a),o=0,++i}++o,++r}return T.join("")}function c(e){return r(e,function(e){return A.test(e)?a(e.slice(4).toLowerCase()):e})}function h(e){return r(e,function(e){return P.test(e)?"xn--"+s(e):e})}var p,l=2147483647,d=36,g=1,y=26,v=38,w=700,E=72,m=128,b="-",A=/^xn--/,P=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=d-g,R=Math.floor,S=String.fromCharCode;return p={version:"1.3.2",ucs2:{decode:n,encode:o},decode:a,encode:s,toASCII:h,toUnicode:c}}();"undefined"==typeof COMPILED&&"undefined"!=typeof t&&(t.exports=n)},{}],15:[function(e,t,r){e("./schemes/http"),e("./schemes/urn"),e("./schemes/mailto")},{"./schemes/http":16,"./schemes/mailto":17,"./schemes/urn":18}],16:[function(e,t,r){if("undefined"==typeof COMPILED&&"undefined"==typeof n&&"function"==typeof e)var n=e("../uri");n.SCHEMES.http=n.SCHEMES.https={domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}}},{"../uri":19}],17:[function(e,t,r){if("undefined"==typeof COMPILED&&"undefined"==typeof n&&"function"==typeof e)var n=e("../uri"),o=e("../punycode");!function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(e.length>1){e[0]=e[0].slice(0,-1);for(var r=e.length-1,n=1;n<r;++n)e[n]=e[n].slice(1,-1);return e[r]=e[r].slice(1),e.join("")}return e[0]}function t(e){return"(?:"+e+")"}function r(e){return e.toUpperCase()}function i(e){var t=n.pctDecChars(e);return t.match(x)?t:e}function u(e){return void 0!==e&&null!==e?e instanceof Array&&!e.callee?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}var f={},a=n.IRI_SUPPORT,s="[A-Za-z0-9\\-\\.\\_\\~"+(a?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",c="[0-9A-Fa-f]",h=t(t("%[EFef]"+c+"%"+c+c+"%"+c+c)+"|"+t("%[89A-Fa-f]"+c+"%"+c+c)+"|"+t("%"+c+c)),p="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",l="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",d=e(l,'[\\"\\\\]'),g=t(p+"+"+t("\\."+p+"+")+"*"),y=t("\\\\"+d),v=t(l+"|"+y),w=t('\\"'+v+'*\\"'),E="[\\x21-\\x5A\\x5E-\\x7E]",m="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",b=t(s+"|"+h+"|"+m),A=t(g+"|\\["+E+"*\\]"),P=t(g+"|"+w),O=t(P+"\\@"+A),_=t(O+t("\\,"+O)+"*"),C=t(b+"*"),R=C,S=t(C+"\\="+R),T=t(S+t("\\&"+S)+"*"),U=t("\\?"+T),x=(n.VALIDATE_SUPPORT&&new RegExp("^mailto\\:"+_+"?"+U+"?$"),new RegExp(s,"g")),I=new RegExp(h,"g"),D=new RegExp(e("[^]",p,"[\\.]",'[\\"]',d),"g"),j=new RegExp(e("[^]",p,"[\\.]","[\\[]",E,"[\\]]"),"g"),N=new RegExp(e("[^]",s,m),"g"),B=N,F=n.VALIDATE_SUPPORT&&new RegExp("^"+_+"$"),L=n.VALIDATE_SUPPORT&&new RegExp("^"+T+"$");n.SCHEMES.mailto={parse:function(e,t){n.VALIDATE_SUPPORT&&!e.error&&(e.path&&!F.test(e.path)?e.error="Email address is not valid":e.query&&!L.test(e.query)&&(e.error="Header fields are invalid"));var r=e.to=e.path?e.path.split(","):[];if(e.path=void 0,e.query){for(var i=!1,u={},f=e.query.split("&"),a=0,s=f.length;a<s;++a){var c=f[a].split("=");switch(c[0]){case"to":for(var h=c[1].split(","),p=0,l=h.length;p<l;++p)r.push(h[p]);break;case"subject":e.subject=n.unescapeComponent(c[1],t);break;case"body":e.body=n.unescapeComponent(c[1],t);break;default:i=!0,u[n.unescapeComponent(c[0],t)]=n.unescapeComponent(c[1],t)}}i&&(e.headers=u)}e.query=void 0;for(var a=0,s=r.length;a<s;++a){var d=r[a].split("@");if(d[0]=n.unescapeComponent(d[0]),"undefined"==typeof o||t.unicodeSupport)d[1]=n.unescapeComponent(d[1],t).toLowerCase();else try{d[1]=o.toASCII(n.unescapeComponent(d[1],t).toLowerCase())}catch(g){e.error=e.error||"Email address's domain name can not be converted to ASCII via punycode: "+g}r[a]=d.join("@")}return e},serialize:function(e,t){var a=u(e.to);if(a){for(var s=0,c=a.length;s<c;++s){var h=String(a[s]),p=h.lastIndexOf("@"),l=h.slice(0,p),d=h.slice(p+1);if(l=l.replace(I,i).replace(I,r).replace(D,n.pctEncChar),"undefined"!=typeof o)try{d=t.iri?o.toUnicode(d):o.toASCII(n.unescapeComponent(d,t).toLowerCase())}catch(g){e.error=e.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+g}else d=d.replace(I,i).toLowerCase().replace(I,r).replace(j,n.pctEncChar);a[s]=l+"@"+d}e.path=a.join(",")}var y=e.headers=e.headers||{};e.subject&&(y.subject=e.subject),e.body&&(y.body=e.body);var v=[];for(var w in y)y[w]!==f[w]&&v.push(w.replace(I,i).replace(I,r).replace(N,n.pctEncChar)+"="+y[w].replace(I,i).replace(I,r).replace(B,n.pctEncChar));return v.length&&(e.query=v.join("&")),e}}}()},{"../punycode":14,"../uri":19}],18:[function(e,t,r){if("undefined"==typeof COMPILED&&"undefined"==typeof n&&"function"==typeof e)var n=e("../uri");!function(){var e=n.pctEncChar,t="(?:[0-9A-Za-z][0-9A-Za-z\\-]{1,31})",r="(?:\\%[0-9A-Fa-f]{2})",o="[0-9A-Za-z\\(\\)\\+\\,\\-\\.\\:\\=\\@\\;\\$\\_\\!\\*\\'\\/\\?\\#]",i="(?:(?:"+r+"|"+o+")+)",u=new RegExp("^urn\\:("+t+")$"),f=new RegExp("^("+t+")\\:("+i+")$"),a=/^([^\:]+)\:(.*)/,s=/[\x00-\x20\\\"\&\<\>\[\]\^\`\{\|\}\~\x7F-\xFF]/g,c=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;n.SCHEMES.urn={parse:function(e,t){var r,o,i=e.path.match(f);return i||(t.tolerant||(e.error=e.error||"URN is not strictly valid."),i=e.path.match(a)),i?(r="urn:"+i[1].toLowerCase(),o=n.SCHEMES[r],o||(o=n.SCHEMES[r]={parse:function(e,t){return e},serialize:n.SCHEMES.urn.serialize}),e.scheme=r,e.path=i[2],e=o.parse(e,t)):e.error=e.error||"URN can not be parsed.",e},serialize:function(t,r){var n,o=t.scheme||r.scheme;if(o&&"urn"!==o){var n=o.match(u);n||(n=["urn:"+o,o]),t.scheme="urn",t.path=n[1]+":"+(t.path?t.path.replace(s,e):"")}return t}},n.SCHEMES["urn:uuid"]={parse:function(e,t){return t.tolerant||e.path&&e.path.match(c)||(e.error=e.error||"UUID is not valid."),e},serialize:function(e,t){return t.tolerant||e.path&&e.path.match(c)?e.path=(e.path||"").toLowerCase():e.scheme=void 0,n.SCHEMES.urn.serialize(e,t)}}}()},{"../uri":19}],19:[function(e,t,r){var n=!1,o=!0,i=!0,u=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(e.length>1){e[0]=e[0].slice(0,-1);for(var r=e.length-1,n=1;n<r;++n)e[n]=e[n].slice(1,-1);return e[r]=e[r].slice(1),e.join("")}return e[0]}function t(e){return"(?:"+e+")"}function r(r){var n="[A-Za-z]",o="[0-9]",u=e(o,"[A-Fa-f]"),f=t(t("%[EFef]"+u+"%"+u+u+"%"+u+u)+"|"+t("%[89A-Fa-f]"+u+"%"+u+u)+"|"+t("%"+u+u)),a="[\\:\\/\\?\\#\\[\\]\\@]",s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=e(a,s),h=r?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",p=r?"[\\uE000-\\uF8FF]":"[]",l=e(n,o,"[\\-\\.\\_\\~]",h),d=t(n+e(n,o,"[\\+\\-\\.]")+"*"),g=t(t(f+"|"+e(l,s,"[\\:]"))+"*"),y=t(t("25[0-5]")+"|"+t("2[0-4]"+o)+"|"+t("1"+o+o)+"|"+t("[1-9]"+o)+"|"+o),v=t(y+"\\."+y+"\\."+y+"\\."+y),w=t(u+"{1,4}"),E=(t(t(w+"\\:"+w)+"|"+v),t(e(l,s,"[\\:]")+"+")),m=t("v"+u+"+\\."+e(l,s,"[\\:]")+"+"),b=t("\\["+t(E+"|"+m)+"\\]"),A=t(t(f+"|"+e(l,s))+"*"),P=t(b+"|"+v+"(?!"+A+")|"+A),O=t(o+"*"),_=t(t(g+"@")+"?"+P+t("\\:"+O)+"?"),C=t(f+"|"+e(l,s,"[\\:\\@]")),R=t(C+"*"),S=t(C+"+"),T=t(t(f+"|"+e(l,s,"[\\@]"))+"+"),U=t(t("\\/"+R)+"*"),x=t("\\/"+t(S+U)+"?"),I=t(T+U),D=t(S+U),j="(?!"+C+")",N=(t(U+"|"+x+"|"+I+"|"+D+"|"+j),t(t(C+"|"+e("[\\/\\?]",p))+"*")),B=t(t(C+"|[\\/\\?]")+"*"),F=t(t("\\/\\/"+_+U)+"|"+x+"|"+D+"|"+j),L=t(d+"\\:"+F+t("\\?"+N)+"?"+t("\\#"+B)+"?"),M=t(t("\\/\\/"+_+U)+"|"+x+"|"+I+"|"+j),Y=t(M+t("\\?"+N)+"?"+t("\\#"+B)+"?"),k=(t(L+"|"+Y),t(d+"\\:"+F+t("\\?"+N)+"?"),"^("+d+")\\:"+t(t("\\/\\/("+t("("+g+")@")+"?("+P+")"+t("\\:("+O+")")+"?)")+"?("+U+"|"+x+"|"+D+"|"+j+")")+t("\\?("+N+")")+"?"+t("\\#("+B+")")+"?$"),q="^(){0}"+t(t("\\/\\/("+t("("+g+")@")+"?("+P+")"+t("\\:("+O+")")+"?)")+"?("+U+"|"+x+"|"+I+"|"+j+")")+t("\\?("+N+")")+"?"+t("\\#("+B+")")+"?$";"^("+d+")\\:"+t(t("\\/\\/("+t("("+g+")@")+"?("+P+")"+t("\\:("+O+")")+"?)")+"?("+U+"|"+x+"|"+D+"|"+j+")")+t("\\?("+N+")")+"?$","^"+t("\\#("+B+")")+"?$","^"+t("("+g+")@")+"?("+P+")"+t("\\:("+O+")")+"?$";return{URI_REF:i&&new RegExp("("+k+")|("+q+")"),NOT_SCHEME:new RegExp(e("[^]",n,o,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",l,s),"g"),NOT_HOST:new RegExp(e("[^\\%]",l,s),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",l,s),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",l,s),"g"),NOT_QUERY:new RegExp(e("[^\\%]",l,s,"[\\:\\@\\/\\?]",p),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",l,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",l,s),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",l,c),"g"),PCT_ENCODED:new RegExp(f,"g")}}function n(e){var t,r=e.charCodeAt(0);return t=r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()}function u(e){for(var t,r,n,o="",i=0,u=e.length;i<u;)t=parseInt(e.substr(i+1,2),16),t<128?(o+=String.fromCharCode(t),i+=3):t>=194&&t<224?(u-i>=6?(r=parseInt(e.substr(i+4,2),16),o+=String.fromCharCode((31&t)<<6|63&r)):o+=e.substr(i,6),i+=6):t>=224?(u-i>=9?(r=parseInt(e.substr(i+4,2),16),n=parseInt(e.substr(i+7,2),16),o+=String.fromCharCode((15&t)<<12|(63&r)<<6|63&n)):o+=e.substr(i,9),i+=9):(o+=e.substr(i,3),i+=3);return o}function a(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function s(e){return e.toUpperCase()}function c(e,t){function r(e){var r=u(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,n).replace(t.PCT_ENCODED,s)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,n).replace(t.PCT_ENCODED,s)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,n).replace(t.PCT_ENCODED,s)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,n).replace(t.PCT_ENCODED,s)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,n).replace(t.PCT_ENCODED,s)),e}function h(e,t){void 0===t&&(t={});var r,n,a=o&&t.iri!==!1?A:b,s=!1,h={};if("suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e),i?(r=e.match(a.URI_REF),r&&(r=r[1]?r.slice(1,10):r.slice(10,19)),r||(s=!0,t.tolerant||(h.error=h.error||"URI is not strictly valid."),r=e.match(P))):r=e.match(P),r){if(S?(h.scheme=r[1],h.userinfo=r[3],h.host=r[4],h.port=parseInt(r[5],10),h.path=r[6]||"",h.query=r[7],h.fragment=r[8],isNaN(h.port)&&(h.port=r[5])):(h.scheme=r[1]||void 0,h.userinfo=e.indexOf("@")!==-1?r[3]:void 0,h.host=e.indexOf("//")!==-1?r[4]:void 0,h.port=parseInt(r[5],10),h.path=r[6]||"",h.query=e.indexOf("?")!==-1?r[7]:void 0,h.fragment=e.indexOf("#")!==-1?r[8]:void 0,isNaN(h.port)&&(h.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?r[4]:void 0)),void 0!==h.scheme||void 0!==h.userinfo||void 0!==h.host||void 0!==h.port||h.path||void 0!==h.query?void 0===h.scheme?h.reference="relative":void 0===h.fragment?h.reference="absolute":h.reference="uri":h.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==h.reference&&(h.error=h.error||"URI is not a "+t.reference+" reference."),n=T[(t.scheme||h.scheme||"").toLowerCase()],!o||"undefined"==typeof f||t.unicodeSupport||n&&n.unicodeSupport)c(h,a);else{if(h.host&&(t.domainHost||n&&n.domainHost))try{h.host=f.toASCII(h.host.replace(a.PCT_ENCODED,u).toLowerCase())}catch(p){h.error=h.error||"Host's domain name can not be converted to ASCII via punycode: "+p}c(h,b)}n&&n.parse&&n.parse(h,t)}else s=!0,h.error=h.error||"URI can not be parsed.";return h}function p(e,t){var r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(e.host),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}function l(e){for(var t,r=[];e.length;)e.match(O)?e=e.replace(O,""):e.match(_)?e=e.replace(_,"/"):e.match(C)?(e=e.replace(C,"/"),r.pop()):"."===e||".."===e?e="":(t=e.match(R)[0],e=e.slice(t.length),r.push(t));return r.join("")}function d(e,t){void 0===t&&(t={});var r,n,i,a=o&&t.iri?A:b,s=[];if(r=T[(t.scheme||e.scheme||"").toLowerCase()],r&&r.serialize&&r.serialize(e,t),o&&"undefined"!=typeof f&&e.host&&(t.domainHost||r&&r.domainHost))try{e.host=t.iri?f.toUnicode(e.host):f.toASCII(e.host.replace(a.PCT_ENCODED,u).toLowerCase())}catch(h){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+h}return c(e,a),"suffix"!==t.reference&&e.scheme&&(s.push(e.scheme),s.push(":")),n=p(e,t),void 0!==n&&("suffix"!==t.reference&&s.push("//"),s.push(n),e.path&&"/"!==e.path.charAt(0)&&s.push("/")),void 0!==e.path&&(i=e.path,t.absolutePath||r&&r.absolutePath||(i=l(i)),void 0===n&&(i=i.replace(/^\/\//,"/%2F")),s.push(i)),void 0!==e.query&&(s.push("?"),s.push(e.query)),void 0!==e.fragment&&(s.push("#"),s.push(e.fragment)),s.join("")}function g(e,t,r,n){void 0===r&&(r={});var o={};return n||(e=h(d(e,r),r),t=h(d(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=l(t.path),o.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=l(t.path),o.query=t.query):(t.path?("/"===t.path.charAt(0)?o.path=l(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path:o.path="/"+t.path,o.path=l(o.path)),o.query=t.query):(o.path=e.path,void 0!==t.query?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function y(e,t,r){return d(g(h(e,r),h(t,r),r,!0),r)}function v(e,t){return"string"==typeof e?e=d(h(e,t),t):"object"===a(e)&&(e=h(d(e,t),t)),e}function w(e,t,r){return"string"==typeof e?e=d(h(e,r),r):"object"===a(e)&&(e=d(e,r)),"string"==typeof t?t=d(h(t,r),r):"object"===a(t)&&(t=d(t,r)),e===t}function E(e,t){return e&&e.toString().replace(o&&t&&t.iri?A.ESCAPE:b.ESCAPE,n)}function m(e,t){return e&&e.toString().replace(o&&t&&t.iri?A.PCT_ENCODED:b.PCT_ENCODED,u)}var b=r(!1),A=o?r(!0):void 0,P=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?([^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n)*))?/i,O=/^\.\.?\//,_=/^\/\.(\/|$)/,C=/^\/\.\.(\/|$)/,R=/^\/?(?:.|\n)*?(?=\/|$)/,S=void 0==="".match(/(){0}/)[1],T={};return{IRI_SUPPORT:o,VALIDATE_SUPPORT:i,pctEncChar:n,pctDecChars:u,SCHEMES:T,parse:h,_recomposeAuthority:p,removeDotSegments:l,serialize:d,resolveComponents:g,resolve:y,normalize:v,equal:w,escapeComponent:E,unescapeComponent:m}}();if(!n&&"undefined"!=typeof t&&"function"==typeof e){var f=e("./punycode");t.exports=u,e("./schemes")}},{"./punycode":14,"./schemes":15}]},{},[1])(1)});