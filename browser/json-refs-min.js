!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.JsonRefs=e()}}(function(){var e;return function e(t,r,n){function o(u,a){if(!r[u]){if(!t[u]){var f="function"==typeof require&&require;if(!a&&f)return f(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[u]={exports:{}};t[u][0].call(c.exports,function(e){var r=t[u][1][e];return o(r||e)},c,c.exports,e,t,r,n)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(e,t,r){(function(r,n){"use strict";function o(e,t){-1===e.indexOf(t)&&e.push(t)}function i(e,t){function r(e){Object.keys(e).forEach(function(t){n[t]=e[t]})}var n={};return r(q.parse(e||"")),r(q.parse(t||"")),0===Object.keys(n).length?void 0:q.stringify(n)}function u(e,t){g(e,"String")&&(e=z(e)),g(t,"String")&&(t=z(t));var r,n,o=m(g(t,"Undefined")?"":t);return V.indexOf(o.reference)>-1?n=o:(r=g(e,"Undefined")?void 0:m(e),g(r,"Undefined")?n=o:(n=r,n.path=z(k.join(r.path,o.path)),n.query=i(r.query,o.query))),n.fragment=void 0,(-1===V.indexOf(n.reference)&&0===n.path.indexOf("../")?"../":"")+H.serialize(n)}function a(e,t){var r,n=[];return t.length>0&&(r=e,t.slice(0,t.length-1).forEach(function(e){e in r&&(r=r[e],n.push(r))})),n}function f(e){return Z.indexOf(l(e))>-1}function s(e){return g(e.error,"Undefined")&&"invalid"!==e.type}function c(e,t){var r=e;return t.forEach(function(e){if(!((e=decodeURI(e))in r))throw Error("JSON Pointer points to missing location: "+R(t));r=r[e]}),r}function h(e){return Object.keys(e).filter(function(e){return"$ref"!==e})}function l(e){var t;switch(e.uriDetails.reference){case"absolute":case"uri":t="remote";break;case"same-document":t="local";break;default:t=e.uriDetails.reference}return t}function p(e,t){var r=J[e],n=Promise.resolve(),o=F(t.loaderOptions||{});return g(r,"Undefined")?(g(o.processContent,"Undefined")&&(o.processContent=function(e,t){t(void 0,JSON.parse(e.text))}),n=M.load(decodeURI(e),o),n=n.then(function(t){return J[e]={value:t},t}).catch(function(t){throw J[e]={error:t},t})):n=n.then(function(){if(g(r.error,"Error"))throw r.error;return r.value}),n=n.then(function(e){return F(e)})}function d(e,t){var r=!0;try{if(!g(e,"Object"))throw new Error("obj is not an Object");if(!g(e.$ref,"String"))throw new Error("obj.$ref is not a String")}catch(e){if(t)throw e;r=!1}return r}function g(e,t){return"Undefined"===t?void 0===e:Object.prototype.toString.call(e)==="[object "+t+"]"}function v(e){return-1!==e.indexOf("://")||k.isAbsolute(e)?e:k.resolve(r.cwd(),e)}function y(e){var t,r;return g(e.filter,"Array")||g(e.filter,"String")?(r=g(e.filter,"String")?[e.filter]:e.filter,t=function(e){return r.indexOf(e.type)>-1||r.indexOf(l(e))>-1}):g(e.filter,"Function")?t=e.filter:g(e.filter,"Undefined")&&(t=function(){return!0}),function(r,n){return("invalid"!==r.type||!0===e.includeInvalid)&&t(r,n)}}function w(e){var t;return g(e.subDocPath,"Array")?t=e.subDocPath:g(e.subDocPath,"String")?t=D(e.subDocPath):g(e.subDocPath,"Undefined")&&(t=[]),t}function b(e,t){e.error=t.message,e.missing=!0}function m(e){return H.parse(encodeURI(decodeURI(e)))}function E(e,t,r){var n,o,i=Promise.resolve(),a=R(t.subDocPath),c=v(t.location),h=c+a;return g(r.docs[c],"Undefined")&&(r.docs[c]=e),g(r.deps[h],"Undefined")&&(r.deps[h]={},n=j(e,t),Object.keys(n).forEach(function(c){var l=n[c],d=v(t.location)+c,y=l.refdId=v(f(l)?u(t.relativeBase,l.uri):t.location)+"#"+(l.uri.indexOf("#")>-1?l.uri.split("#")[1]:"");if(r.refs[d]=l,s(l)){if(r.deps[h][c===a?"#":c.replace(a+"/","#/")]=y,0===d.indexOf(y+"/"))return void(l.circular=!0);o=F(t),o.subDocPath=g(l.uriDetails.fragment,"Undefined")?[]:D(decodeURI(l.uriDetails.fragment)),f(l)?(o.location=y.split("#")[0],o.relativeBase=k.dirname(o.location),i=i.then(function(e,t){return function(){var r=v(t.location),n=e.docs[r];return g(n,"Undefined")?p(r,t).catch(function(t){return e.docs[r]=t,t}):Promise.resolve().then(function(){return n})}}(r,o))):i=i.then(function(){return e}),i=i.then(function(e,t,r){return function(n){if(g(n,"Error"))b(r,n);else try{return E(n,t,e).catch(function(e){b(r,e)})}catch(e){b(r,e)}}}(r,o,l))}})),i}function A(e,t,r){c(e,t.slice(0,t.length-1))[decodeURI(t[t.length-1])]=r}function O(e,t,r,n){function o(t,o){r.push(o),O(e,t,r,n),r.pop()}var i=!0;g(n,"Function")&&(i=n(e,t,r)),-1===e.indexOf(t)&&(e.push(t),!1!==i&&(g(t,"Array")?t.forEach(function(e,t){o(e,t.toString())}):g(t,"Object")&&Object.keys(t).forEach(function(e){o(t[e],e)})),e.pop())}function C(e,t){if(e=g(e,"Undefined")?{}:F(e),!g(e,"Object"))throw new TypeError("options must be an Object");if(!(g(e.filter,"Undefined")||g(e.filter,"Array")||g(e.filter,"Function")||g(e.filter,"String")))throw new TypeError("options.filter must be an Array, a Function of a String");if(!g(e.includeInvalid,"Undefined")&&!g(e.includeInvalid,"Boolean"))throw new TypeError("options.includeInvalid must be a Boolean");if(!g(e.refPreProcessor,"Undefined")&&!g(e.refPreProcessor,"Function"))throw new TypeError("options.refPreProcessor must be a Function");if(!g(e.refPostProcessor,"Undefined")&&!g(e.refPostProcessor,"Function"))throw new TypeError("options.refPostProcessor must be a Function");if(!g(e.subDocPath,"Undefined")&&!g(e.subDocPath,"Array")&&!_(e.subDocPath))throw new TypeError("options.subDocPath must be an Array of path segments or a valid JSON Pointer");if(e.filter=y(e),e.subDocPath=w(e),!g(t,"Undefined"))try{c(t,e.subDocPath)}catch(e){throw e.message=e.message.replace("JSON Pointer","options.subDocPath"),e}return g(e.location,"Undefined")&&(e.location=u(e.relativeBase,"./root.json")),e.location=u(e.location,void 0),e.relativeBase=k.dirname(e.location),e}function x(){J={}}function S(e){if(!g(e,"Array"))throw new TypeError("path must be an array");return e.map(function(e){return g(e,"String")||(e=JSON.stringify(e)),decodeURI(e.replace(/~1/g,"/").replace(/~0/g,"~"))})}function P(e){if(!g(e,"Array"))throw new TypeError("path must be an array");return e.map(function(e){return g(e,"String")||(e=JSON.stringify(e)),e.replace(/~/g,"~0").replace(/\//g,"~1")})}function j(e,t){var r={};if(!g(e,"Array")&&!g(e,"Object"))throw new TypeError("obj must be an Array or an Object");return t=C(t,e),O(a(e,t.subDocPath),c(e,t.subDocPath),F(t.subDocPath),function(e,n,o){var i,u,a=!0;return d(n)&&(g(t.refPreProcessor,"Undefined")||(n=t.refPreProcessor(F(n),o)),i=I(n),g(t.refPostProcessor,"Undefined")||(i=t.refPostProcessor(i,o)),t.filter(i,o)&&(u=R(o),r[u]=i),h(n).length>0&&(a=!1)),a}),r}function U(e,t){var r=Promise.resolve();return r=r.then(function(){if(!g(e,"String"))throw new TypeError("location must be a string");return g(t,"Undefined")&&(t={}),g(t,"Object")&&(t.location=u(t.relativeBase,e)),t=C(t),p(t.location,t)}).then(function(e){var r=F(J[t.location]),n=F(t),o=m(t.location);return g(r.refs,"Undefined")&&(delete n.filter,delete n.subDocPath,n.includeInvalid=!0,J[t.location].refs=j(e,n)),g(t.filter,"Undefined")||(n.filter=t.filter),g(o.fragment,"Undefined")?g(o.subDocPath,"Undefined")||(n.subDocPath=t.subDocPath):n.subDocPath=D(decodeURI(o.fragment)),{refs:j(e,n),value:e}})}function I(e){var t,r,n,o={def:e};try{d(e,!0)?(t=e.$ref,n=Y[t],g(n,"Undefined")&&(n=Y[t]=m(t)),o.uri=t,o.uriDetails=n,g(n.error,"Undefined")?o.type=l(o):(o.error=o.uriDetails.error,o.type="invalid"),r=h(e),r.length>0&&(o.warning="Extra JSON Reference properties will be ignored: "+r.join(", "))):o.type="invalid"}catch(e){o.error=e.message,o.type="invalid"}return o}function _(e,t){var r,n=!0;try{if(!g(e,"String"))throw new Error("ptr is not a String");if(""!==e){if(r=e.charAt(0),-1===["#","/"].indexOf(r))throw new Error("ptr must start with a / or #/");if("#"===r&&"#"!==e&&"/"!==e.charAt(1))throw new Error("ptr must start with a / or #/");if(e.match($))throw new Error("ptr has invalid token(s)")}}catch(e){if(!0===t)throw e;n=!1}return n}function T(e,t){return d(e,t)&&"invalid"!==I(e,t).type}function D(e){if(!_(e))throw new Error("ptr must be a JSON Pointer");var t=e.split("/");return t.shift(),S(t)}function R(e,t){if(!g(e,"Array"))throw new Error("path must be an Array");return(!1!==t?"#":"")+(e.length>0?"/":"")+P(e).join("/")}function N(e,t){var r=Promise.resolve();return r=r.then(function(){if(!g(e,"Array")&&!g(e,"Object"))throw new TypeError("obj must be an Array or an Object");t=C(t,e),e=F(e)}).then(function(){var r={deps:{},docs:{},refs:{}};return E(e,t,r).then(function(){return r})}).then(function(e){function r(o,i,u){var a,f=e.refs[i];if(n[R(t.subDocPath.concat(u))]=f,f.circular||!s(f))return void(!f.circular&&f.error&&(f.error=f.error.replace("options.subDocPath","JSON Pointer"),f.error.indexOf("#")>-1&&(f.error=f.error.replace(f.uri.substr(f.uri.indexOf("#")),f.uri)),0!==f.error.indexOf("ENOENT:")&&0!==f.error.indexOf("Not Found")||(f.error="JSON Pointer points to missing location: "+f.uri)));a=e.deps[f.refdId],0!==f.refdId.indexOf(o)&&Object.keys(a).forEach(function(e){r(f.refdId,f.refdId+e.substr(1),u.concat(D(e)))})}var n={},i=[],u=[],a=new L.Graph,h=v(t.location),l=h+R(t.subDocPath);return Object.keys(e.deps).forEach(function(e){a.setNode(e)}),Object.keys(e.deps).forEach(function(t){Object.keys(e.deps[t]).forEach(function(r){a.setEdge(t,e.deps[t][r])})}),i=L.alg.findCycles(a),i.forEach(function(e){e.forEach(function(e){o(u,e)})}),Object.keys(e.deps).forEach(function(t){Object.keys(e.deps[t]).forEach(function(r){var n,o=!1,a=t+r.slice(1),s=e.deps[t][r],c=e.refs[t+r.slice(1)],h=f(c);u.indexOf(s)>-1&&i.forEach(function(e){o||(n=e.indexOf(s))>-1&&e.forEach(function(t){o||0===a.indexOf(t+"/")&&(h&&n===e.length-1||!h)&&(o=!0)})}),o&&(c.circular=!0)})}),Object.keys(e.deps).forEach(function(t){var r=t.split("#"),n=e.docs[r[0]],o=D(r[1]);Object.keys(e.deps[t]).forEach(function(i){var u=e.deps[t][i],a=u.split("#"),f=e.docs[a[0]],s=o.concat(D(i)),h=e.refs[r[0]+R(s)];if(g(h.error,"Undefined")&&g(h.missing,"Undefined"))if(h.circular)h.value=h.def;else{try{h.value=c(f,D(a[1]))}catch(e){return void b(h,e)}""===r[1]&&"#"===i?e.docs[r[0]]=h.value:A(n,s,h.value)}})}),Object.keys(e.refs).forEach(function(e){0===e.indexOf(l)&&r(l,e,D(e.substr(l.length)))}),Object.keys(e.refs).forEach(function(t){delete e.refs[t].refdId}),{refs:n,resolved:e.docs[h]}})}function B(e,t){var r=Promise.resolve();return r=r.then(function(){if(!g(e,"String"))throw new TypeError("location must be a string");return g(t,"Undefined")&&(t={}),g(t,"Object")&&(t.location=u(t.relativeBase,e)),t=C(t),p(t.location,t)}).then(function(e){var r=F(t),n=m(t.location);return g(n.fragment,"Undefined")||(r.subDocPath=D(decodeURI(n.fragment))),N(e,r).then(function(t){return{refs:t.refs,resolved:t.resolved,value:e}})})}var F=e("clone"),L="undefined"!=typeof window?window.graphlib:void 0!==n?n.graphlib:null,k=e("path"),M="undefined"!=typeof window?window.PathLoader:void 0!==n?n.PathLoader:null,q=e("querystring"),z=e("slash"),H=e("uri-js"),$=/~(?:[^01]|$)/g,J={},Z=["relative","remote"],V=["absolute","uri"],Y={};"undefined"==typeof Promise&&e("native-promise-only"),t.exports.clearCache=x,t.exports.decodePath=S,t.exports.encodePath=P,t.exports.findRefs=j,t.exports.findRefsAt=U,t.exports.getRefDetails=I,t.exports.isPtr=_,t.exports.isRef=T,t.exports.pathFromPtr=D,t.exports.pathToPtr=R,t.exports.resolveRefs=N,t.exports.resolveRefsAt=B}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:8,clone:4,"native-promise-only":6,path:7,querystring:11,slash:12,"uri-js":13}],2:[function(e,t,r){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function o(e){return 3*e.length/4-n(e)}function i(e){var t,r,o,i,u,a,f=e.length;u=n(e),a=new h(3*f/4-u),o=u>0?f-4:f;var s=0;for(t=0,r=0;t<o;t+=4,r+=3)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[s++]=i>>16&255,a[s++]=i>>8&255,a[s++]=255&i;return 2===u?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[s++]=255&i):1===u&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[s++]=i>>8&255,a[s++]=255&i),a}function u(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function a(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16)+(e[i+1]<<8)+e[i+2],o.push(u(n));return o.join("")}function f(e){for(var t,r=e.length,n=r%3,o="",i=[],u=0,f=r-n;u<f;u+=16383)i.push(a(e,u,u+16383>f?f:u+16383));return 1===n?(t=e[r-1],o+=s[t>>2],o+=s[t<<4&63],o+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],o+=s[t>>10],o+=s[t>>4&63],o+=s[t<<2&63],o+="="),i.push(o),i.join("")}r.byteLength=o,r.toByteArray=i,r.fromByteArray=f;for(var s=[],c=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=l.length;p<d;++p)s[p]=l[p],c[l.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],3:[function(e,t,r){"use strict";function n(e){if(e>G)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=o.prototype,t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(e)}return i(e,t,r)}function i(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return e instanceof ArrayBuffer?h(e,t,r):"string"==typeof e?s(e,t):l(e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function a(e,t,r){return u(e),e<=0?n(e):void 0!==t?"string"==typeof r?n(e).fill(t,r):n(e).fill(t):n(e)}function f(e){return u(e),n(e<0?0:0|p(e))}function s(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!o.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(e,t),i=n(r),u=i.write(e,t);return u!==r&&(i=i.slice(0,u)),i}function c(e){for(var t=e.length<0?0:0|p(e.length),r=n(t),o=0;o<t;o+=1)r[o]=255&e[o];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(r||0))throw new RangeError("'length' is out of bounds");var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),n.__proto__=o.prototype,n}function l(e){if(o.isBuffer(e)){var t=0|p(e.length),r=n(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(e){if(J(e)||"length"in e)return"number"!=typeof e.length||Z(e.length)?n(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=G)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+G.toString(16)+" bytes");return 0|e}function d(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if(J(e)||e instanceof ArrayBuffer)return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(n)return M(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return U(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Z(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,o){function i(e,t){return 1===u?e[t]:e.readUInt16BE(t*u)}var u=1,a=e.length,f=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;u=2,a/=2,f/=2,r/=2}var s;if(o){var c=-1;for(s=r;s<a;s++)if(i(e,s)===i(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===f)return c*u}else-1!==c&&(s-=s-c),c=-1}else for(r+f>a&&(r=a-f),s=r;s>=0;s--){for(var h=!0,l=0;l<f;l++)if(i(e,s+l)!==i(t,l)){h=!1;break}if(h)return s}return-1}function m(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var u=0;u<n;++u){var a=parseInt(t.substr(2*u,2),16);if(Z(a))return u;e[r+u]=a}return u}function E(e,t,r,n){return $(M(t,e.length-r),e,r,n)}function A(e,t,r,n){return $(q(t),e,r,n)}function O(e,t,r,n){return A(e,t,r,n)}function C(e,t,r,n){return $(H(t),e,r,n)}function x(e,t,r,n){return $(z(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?V.fromByteArray(e):V.fromByteArray(e.slice(t,r))}function P(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i=e[o],u=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=r){var f,s,c,h;switch(a){case 1:i<128&&(u=i);break;case 2:f=e[o+1],128==(192&f)&&(h=(31&i)<<6|63&f)>127&&(u=h);break;case 3:f=e[o+1],s=e[o+2],128==(192&f)&&128==(192&s)&&(h=(15&i)<<12|(63&f)<<6|63&s)>2047&&(h<55296||h>57343)&&(u=h);break;case 4:f=e[o+1],s=e[o+2],c=e[o+3],128==(192&f)&&128==(192&s)&&128==(192&c)&&(h=(15&i)<<18|(63&f)<<12|(63&s)<<6|63&c)>65535&&h<1114112&&(u=h)}}null===u?(u=65533,a=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),o+=a}return j(n)}function j(e){var t=e.length;if(t<=K)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=K));return r}function U(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function _(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=k(e[i]);return o}function T(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function D(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,u){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<u)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,o){return t=+t,r>>>=0,o||N(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),Y.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,o){return t=+t,r>>>=0,o||N(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),Y.write(e,t,r,n,52,8),r+8}function L(e){if(e=e.trim().replace(Q,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function k(e){return e<16?"0"+e.toString(16):e.toString(16)}function M(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],u=0;u<n;++u){if((r=e.charCodeAt(u))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(u+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function q(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function z(e,t){for(var r,n,o,i=[],u=0;u<e.length&&!((t-=2)<0);++u)r=e.charCodeAt(u),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function H(e){return V.toByteArray(L(e))}function $(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function J(e){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(e)}function Z(e){return e!==e}var V=e("base64-js"),Y=e("ieee754");r.Buffer=o,r.SlowBuffer=d,r.INSPECT_MAX_BYTES=50;var G=2147483647;r.kMaxLength=G,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(e,t,r){return i(e,t,r)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(e,t,r){return a(e,t,r)},o.allocUnsafe=function(e){return f(e)},o.allocUnsafeSlow=function(e){return f(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,u=Math.min(r,n);i<u;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var u=e[r];if(!o.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(n,i),i+=u.length}return n},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?P(this,0,e):v.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,r,n,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var u=i-n,a=r-t,f=Math.min(u,a),s=this.slice(n,i),c=e.slice(t,r),h=0;h<f;++h)if(s[h]!==c[h]){u=s[h],a=c[h];break}return u<a?-1:a<u?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return m(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":return A(this,e,t,r);case"latin1":case"binary":return O(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;o.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=o.prototype,n},o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},o.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},o.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),Y.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),Y.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),Y.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),Y.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){R(this,e,t,r,Math.pow(2,8*r)-1,0)}var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){R(this,e,t,r,Math.pow(2,8*r)-1,0)}var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);R(this,e,t,r,o-1,-o)}var i=0,u=1,a=0;for(this[t]=255&e;++i<r&&(u*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/u>>0)-a&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);R(this,e,t,r,o-1,-o)}var i=r-1,u=1,a=0;for(this[t+i]=255&e;--i>=0&&(u*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/u>>0)-a&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var u;if("number"==typeof e)for(u=t;u<r;++u)this[u]=e;else{var a=o.isBuffer(e)?e:new o(e,n),f=a.length;for(u=0;u<r-t;++u)this[u+t]=a[u%f]}return this};var Q=/[^+\/0-9A-Za-z-_]/g},{"base64-js":2,ieee754:5}],4:[function(e,t,r){(function(e){var r=function(){"use strict";function t(e,t){
return null!=t&&e instanceof t}function r(n,o,i,u,h){function l(n,i){if(null===n)return null;if(0===i)return n;var v,y;if("object"!=typeof n)return n;if(t(n,f))v=new f;else if(t(n,s))v=new s;else if(t(n,c))v=new c(function(e,t){n.then(function(t){e(l(t,i-1))},function(e){t(l(e,i-1))})});else if(r.__isArray(n))v=[];else if(r.__isRegExp(n))v=new RegExp(n.source,a(n)),n.lastIndex&&(v.lastIndex=n.lastIndex);else if(r.__isDate(n))v=new Date(n.getTime());else{if(g&&e.isBuffer(n))return v=new e(n.length),n.copy(v),v;t(n,Error)?v=Object.create(n):void 0===u?(y=Object.getPrototypeOf(n),v=Object.create(y)):(v=Object.create(u),y=u)}if(o){var w=p.indexOf(n);if(-1!=w)return d[w];p.push(n),d.push(v)}t(n,f)&&n.forEach(function(e,t){var r=l(t,i-1),n=l(e,i-1);v.set(r,n)}),t(n,s)&&n.forEach(function(e){var t=l(e,i-1);v.add(t)});for(var b in n){var m;y&&(m=Object.getOwnPropertyDescriptor(y,b)),m&&null==m.set||(v[b]=l(n[b],i-1))}if(Object.getOwnPropertySymbols)for(var E=Object.getOwnPropertySymbols(n),b=0;b<E.length;b++){var A=E[b],O=Object.getOwnPropertyDescriptor(n,A);(!O||O.enumerable||h)&&(v[A]=l(n[A],i-1),O.enumerable||Object.defineProperty(v,A,{enumerable:!1}))}if(h)for(var C=Object.getOwnPropertyNames(n),b=0;b<C.length;b++){var x=C[b],O=Object.getOwnPropertyDescriptor(n,x);O&&O.enumerable||(v[x]=l(n[x],i-1),Object.defineProperty(v,x,{enumerable:!1}))}return v}"object"==typeof o&&(i=o.depth,u=o.prototype,h=o.includeNonEnumerable,o=o.circular);var p=[],d=[],g=void 0!==e;return void 0===o&&(o=!0),void 0===i&&(i=1/0),l(n,i)}function n(e){return Object.prototype.toString.call(e)}function o(e){return"object"==typeof e&&"[object Date]"===n(e)}function i(e){return"object"==typeof e&&"[object Array]"===n(e)}function u(e){return"object"==typeof e&&"[object RegExp]"===n(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}var f;try{f=Map}catch(e){f=function(){}}var s;try{s=Set}catch(e){s=function(){}}var c;try{c=Promise}catch(e){c=function(){}}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=n,r.__isDate=o,r.__isArray=i,r.__isRegExp=u,r.__getRegExpFlags=a,r}();"object"==typeof t&&t.exports&&(t.exports=r)}).call(this,e("buffer").Buffer)},{buffer:3}],5:[function(e,t,r){r.read=function(e,t,r,n,o){var i,u,a=8*o-n-1,f=(1<<a)-1,s=f>>1,c=-7,h=r?o-1:0,l=r?-1:1,p=e[t+h];for(h+=l,i=p&(1<<-c)-1,p>>=-c,c+=a;c>0;i=256*i+e[t+h],h+=l,c-=8);for(u=i&(1<<-c)-1,i>>=-c,c+=n;c>0;u=256*u+e[t+h],h+=l,c-=8);if(0===i)i=1-s;else{if(i===f)return u?NaN:1/0*(p?-1:1);u+=Math.pow(2,n),i-=s}return(p?-1:1)*u*Math.pow(2,i-n)},r.write=function(e,t,r,n,o,i){var u,a,f,s=8*i-o-1,c=(1<<s)-1,h=c>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,u=c):(u=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-u))<1&&(u--,f*=2),t+=u+h>=1?l/f:l*Math.pow(2,1-h),t*f>=2&&(u++,f/=2),u+h>=c?(a=0,u=c):u+h>=1?(a=(t*f-1)*Math.pow(2,o),u+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,o),u=0));o>=8;e[r+p]=255&a,p+=d,a/=256,o-=8);for(u=u<<o|a,s+=o;s>0;e[r+p]=255&u,p+=d,u/=256,s-=8);e[r+p-d]|=128*g}},{}],6:[function(t,r,n){(function(t){!function(t,n,o){n[t]=n[t]||o(),void 0!==r&&r.exports?r.exports=n[t]:"function"==typeof e&&e.amd&&e(function(){return n[t]})}("Promise",void 0!==t?t:this,function(){"use strict";function e(e,t){l.add(e,t),h||(h=d(l.drain))}function t(e){var t,r=typeof e;return null==e||"object"!=r&&"function"!=r||(t=e.then),"function"==typeof t&&t}function r(){for(var e=0;e<this.chain.length;e++)n(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function n(e,r,n){var o,i;try{!1===r?n.reject(e.msg):(o=!0===r?e.msg:r.call(void 0,e.msg),o===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=t(o))?i.call(o,n.resolve,n.reject):n.resolve(o))}catch(e){n.reject(e)}}function o(n){var u,f=this;if(!f.triggered){f.triggered=!0,f.def&&(f=f.def);try{(u=t(n))?e(function(){var e=new a(f);try{u.call(n,function(){o.apply(e,arguments)},function(){i.apply(e,arguments)})}catch(t){i.call(e,t)}}):(f.msg=n,f.state=1,f.chain.length>0&&e(r,f))}catch(e){i.call(new a(f),e)}}}function i(t){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=t,n.state=2,n.chain.length>0&&e(r,n))}function u(e,t,r,n){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then(function(e){r(o,e)},n)}(o)}function a(e){this.def=e,this.triggered=!1}function f(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function s(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var n=new f(this);this.then=function(t,o){var i={success:"function"!=typeof t||t,failure:"function"==typeof o&&o};return i.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t}),n.chain.push(i),0!==n.state&&e(r,n),i.promise},this.catch=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){o.call(n,e)},function(e){i.call(n,e)})}catch(e){i.call(n,e)}}var c,h,l,p=Object.prototype.toString,d="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),c=function(e,t,r,n){return Object.defineProperty(e,t,{value:r,writable:!0,configurable:!1!==n})}}catch(e){c=function(e,t,r){return e[t]=r,e}}l=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,r,n;return{add:function(o,i){n=new e(o,i),r?r.next=n:t=n,r=n,n=void 0},drain:function(){var e=t;for(t=r=h=void 0;e;)e.fn.call(e.self),e=e.next}}}();var g=c({},"constructor",s,!1);return s.prototype=g,c(g,"__NPO__",0,!1),c(s,"resolve",function(e){var t=this;return e&&"object"==typeof e&&1===e.__NPO__?e:new t(function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");t(e)})}),c(s,"reject",function(e){return new this(function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");r(e)})}),c(s,"all",function(e){var t=this;return"[object Array]"!=p.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");var o=e.length,i=Array(o),a=0;u(t,e,function(e,t){i[e]=t,++a===o&&r(i)},n)})}),c(s,"race",function(e){var t=this;return"[object Array]"!=p.call(e)?t.reject(TypeError("Not an array")):new t(function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");u(t,e,function(e,t){r(t)},n)})}),s})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};r.resolve=function(){for(var r="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var u=i>=0?arguments[i]:e.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(r=u+"/"+r,o="/"===u.charAt(0))}return r=t(n(r.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+r||"."},r.normalize=function(e){var o=r.isAbsolute(e),i="/"===u(e,-1);return e=t(n(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var o=n(e.split("/")),i=n(t.split("/")),u=Math.min(o.length,i.length),a=u,f=0;f<u;f++)if(o[f]!==i[f]){a=f;break}for(var s=[],f=a;f<o.length;f++)s.push("..");return s=s.concat(i.slice(a)),s.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){var t=i(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(e,t){var r=i(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){return i(e)[3]};var u="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,e("_process"))},{_process:8}],8:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(h===setTimeout)return setTimeout(e,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function u(e){if(l===clearTimeout)return clearTimeout(e);if((l===o||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){v&&d&&(v=!1,d.length?g=d.concat(g):y=-1,g.length&&f())}function f(){if(!v){var e=i(a);v=!0;for(var t=g.length;t;){for(d=g,g=[];++y<t;)d&&d[y].run();y=-1,t=g.length}d=null,v=!1,u(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var h,l,p=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(e){h=n}try{l="function"==typeof clearTimeout?clearTimeout:o}catch(e){l=o}}();var d,g=[],v=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];g.push(new s(e,t)),1!==g.length||v||i(f)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],9:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,i){t=t||"&",r=r||"=";var u={};if("string"!=typeof e||0===e.length)return u;e=e.split(t);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var f=e.length;a>0&&f>a&&(f=a);for(var s=0;s<f;++s){var c,h,l,p,d=e[s].replace(/\+/g,"%20"),g=d.indexOf(r);g>=0?(c=d.substr(0,g),h=d.substr(g+1)):(c=d,h=""),l=decodeURIComponent(c),p=decodeURIComponent(h),n(u,l)?o(u[l])?u[l].push(p):u[l]=[u[l],p]:u[l]=p}return u};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],10:[function(e,t,r){"use strict";function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?n(u(e),function(u){var a=encodeURIComponent(o(u))+r;return i(e[u])?n(e[u],function(e){return a+encodeURIComponent(o(e))}).join(t):a+encodeURIComponent(o(e[u]))}).join(t):a?encodeURIComponent(o(a))+r+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],11:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":9,"./encode":10}],12:[function(e,t,r){"use strict";t.exports=function(e){var t=/^\\\\\?\\/.test(e),r=/[^\x00-\x80]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}},{}],13:[function(t,r,n){!function(t,o){"object"==typeof n&&void 0!==r?o(n):"function"==typeof e&&e.amd?e(["exports"],o):o(t.URI=t.URI||{})}(this,function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,o=1;o<n;++o)t[o]=t[o].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function i(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function u(e){var n=t("[0-9]","[A-Fa-f]"),o=r(r("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+r("%[89A-Fa-f]"+n+"%"+n+n)+"|"+r("%"+n+n)),i="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=t("[\\:\\/\\?\\#\\[\\]\\@]",i),a=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",f=e?"[\\uE000-\\uF8FF]":"[]",s=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",a),c=r("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),h=r(r(o+"|"+t(s,i,"[\\:]"))+"*"),l=r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|[0-9]"),p=r(l+"\\."+l+"\\."+l+"\\."+l),d=r(n+"{1,4}"),g=r(r(d+"\\:"+d)+"|"+p),v=r(r(d+"\\:")+"{6}"+g),y=r("\\:\\:"+r(d+"\\:")+"{5}"+g),w=r(r(d)+"?\\:\\:"+r(d+"\\:")+"{4}"+g),b=r(r(r(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+r(d+"\\:")+"{3}"+g),m=r(r(r(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+r(d+"\\:")+"{2}"+g),E=r(r(r(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+g),A=r(r(r(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+g),O=r(r(r(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),C=r(r(r(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),x=r([v,y,w,b,m,E,A,O,C].join("|")),S=r("[vV]"+n+"+\\."+t(s,i,"[\\:]")+"+"),P=r("\\["+r(x+"|"+S)+"\\]"),j=r(r(o+"|"+t(s,i))+"*"),U=r(P+"|"+p+"(?!"+j+")|"+j),I=r("[0-9]*"),_=r(r(h+"@")+"?"+U+r("\\:"+I)+"?"),T=r(o+"|"+t(s,i,"[\\:\\@]")),D=r(T+"*"),R=r(T+"+"),N=r(r(o+"|"+t(s,i,"[\\@]"))+"+"),B=r(r("\\/"+D)+"*"),F=r("\\/"+r(R+B)+"?"),L=r(N+B),k=r(R+B),M="(?!"+T+")",q=(r(B+"|"+F+"|"+L+"|"+k+"|"+M),r(r(T+"|"+t("[\\/\\?]",f))+"*")),z=r(r(T+"|[\\/\\?]")+"*"),H=r(r("\\/\\/"+_+B)+"|"+F+"|"+k+"|"+M),$=r(c+"\\:"+H+r("\\?"+q)+"?"+r("\\#"+z)+"?"),J=r(r("\\/\\/"+_+B)+"|"+F+"|"+L+"|"+M),Z=r(J+r("\\?"+q)+"?"+r("\\#"+z)+"?");r($+"|"+Z),r(c+"\\:"+H+r("\\?"+q)+"?"),r(r("\\/\\/("+r("("+h+")@")+"?("+U+")"+r("\\:("+I+")")+"?)")+"?("+B+"|"+F+"|"+k+"|"+M+")"),r("\\?("+q+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+U+")"+r("\\:("+I+")")+"?)")+"?("+B+"|"+F+"|"+L+"|"+M+")"),r("\\?("+q+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+U+")"+r("\\:("+I+")")+"?)")+"?("+B+"|"+F+"|"+k+"|"+M+")"),r("\\?("+q+")"),r("\\#("+z+")"),r("("+h+")@"),r("\\:("+I+")");return{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",s,i),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",s,i),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",s,i),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",s,i),"g"),NOT_QUERY:new RegExp(t("[^\\%]",s,i,"[\\:\\@\\/\\?]",f),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",s,i,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",s,i),"g"),UNRESERVED:new RegExp(s,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",s,u),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV6ADDRESS:new RegExp("\\[?("+x+")\\]?","g")}}function a(e){throw new RangeError(T[e])}function f(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}function s(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(_,"."),n+f(e.split("."),t).join(".")}function c(e){for(var t=[],r=0,n=e.length;r<n;){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--)}else t.push(o)}return t}function h(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function l(e){for(var t="",r=0,n=e.length;r<n;){var o=parseInt(e.substr(r+1,2),16);if(o<128)t+=String.fromCharCode(o),r+=3;else if(o>=194&&o<224){if(n-r>=6){var i=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&o)<<6|63&i)}else t+=e.substr(r,6);r+=6}else if(o>=224){if(n-r>=9){var u=parseInt(e.substr(r+4,2),16),a=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&o)<<12|(63&u)<<6|63&a)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function p(e,t){function r(e){var r=l(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,h).replace(t.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,h).replace(t.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,h).replace(t.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,h).replace(t.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,h).replace(t.PCT_ENCODED,o)),e}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?S:x;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var o=e.match(J);if(o){Z?(r.scheme=o[1],r.userinfo=o[3],r.host=o[4],r.port=parseInt(o[5],10),r.path=o[6]||"",r.query=o[7],r.fragment=o[8],isNaN(r.port)&&(r.port=o[5])):(r.scheme=o[1]||void 0,r.userinfo=-1!==e.indexOf("@")?o[3]:void 0,r.host=-1!==e.indexOf("//")?o[4]:void 0,r.port=parseInt(o[5],10),r.path=o[6]||"",r.query=-1!==e.indexOf("?")?o[7]:void 0,r.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),r.host&&(r.host=r.host.replace(n.IPV6ADDRESS,"$1")),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var i=$[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||i&&i.unicodeSupport)p(r,n);else{if(r.host&&(t.domainHost||i&&i.domainHost))try{r.host=H.toASCII(r.host.replace(n.PCT_ENCODED,l).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}p(r,x)}i&&i.parse&&i.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function g(e,t){var r=!1!==t.iri?S:x,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(String(e.host).replace(r.IPV6ADDRESS,"[$1]")),"number"==typeof e.port&&(n.push(":"),n.push(e.port.toString(10))),n.length?n.join(""):void 0}function v(e){for(var t=[];e.length;)if(e.match(V))e=e.replace(V,"");else if(e.match(Y))e=e.replace(Y,"/");else if(e.match(G))e=e.replace(G,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(K);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?S:x,n=[],o=$[(t.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||o&&o.domainHost)try{e.host=t.iri?H.toUnicode(e.host):H.toASCII(e.host.replace(r.PCT_ENCODED,l).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}p(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var i=g(e,t);if(void 0!==i&&("suffix"!==t.reference&&n.push("//"),n.push(i),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||o&&o.absolutePath||(u=v(u)),void 0===i&&(u=u.replace(/^\/\//,"/%2F")),n.push(u)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],o={};return n||(e=d(y(e,r),r),t=d(y(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=v(t.path||""),o.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=v(t.path||""),o.query=t.query):(t.path?("/"===t.path.charAt(0)?o.path=v(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path:o.path="/"+t.path,o.path=v(o.path)),o.query=t.query):(o.path=e.path,void 0!==t.query?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function b(e,t,r){return y(w(d(e,r),d(t,r),r,!0),r)}function m(e,t){return"string"==typeof e?e=y(d(e,t),t):"object"===n(e)&&(e=d(y(e,t),t)),e}function E(e,t,r){return"string"==typeof e?e=y(d(e,r),r):"object"===n(e)&&(e=y(e,r)),"string"==typeof t?t=y(d(t,r),r):"object"===n(t)&&(t=y(t,r)),e===t}function A(e,t){return e&&e.toString().replace(t&&t.iri?S.ESCAPE:x.ESCAPE,h)}function O(e,t){return e&&e.toString().replace(t&&t.iri?S.PCT_ENCODED:x.PCT_ENCODED,l)}function C(e){var t=l(e);return t.match(oe)?t:e}var x=u(!1),S=u(!0),P=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},j=2147483647,U=/^xn--/,I=/[^\0-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=Math.floor,R=String.fromCharCode,N=function(e){return String.fromCodePoint.apply(String,P(e))},B=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:36},F=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},L=function(e,t,r){var n=0;for(e=r?D(e/700):e>>1,e+=D(e/t);e>455;n+=36)e=D(e/35);return D(n+36*e/(e+38))},k=function(e){var t=[],r=e.length,n=0,o=128,i=72,u=e.lastIndexOf("-");u<0&&(u=0);for(var f=0;f<u;++f)e.charCodeAt(f)>=128&&a("not-basic"),t.push(e.charCodeAt(f));for(var s=u>0?u+1:0;s<r;){for(var c=n,h=1,l=36;;l+=36){s>=r&&a("invalid-input");var p=B(e.charCodeAt(s++));(p>=36||p>D((j-n)/h))&&a("overflow"),n+=p*h;var d=l<=i?1:l>=i+26?26:l-i;if(p<d)break;var g=36-d;h>D(j/g)&&a("overflow"),h*=g}var v=t.length+1;i=L(n-c,v,0==c),D(n/v)>j-o&&a("overflow"),o+=D(n/v),n%=v,t.splice(n++,0,o)}return String.fromCodePoint.apply(String,t)},M=function(e){var t=[];e=c(e);var r=e.length,n=128,o=0,i=72,u=!0,f=!1,s=void 0;try{for(var h,l=e[Symbol.iterator]();!(u=(h=l.next()).done);u=!0){var p=h.value;p<128&&t.push(R(p))}}catch(e){f=!0,s=e}finally{try{!u&&l.return&&l.return()}finally{if(f)throw s}}var d=t.length,g=d;for(d&&t.push("-");g<r;){var v=j,y=!0,w=!1,b=void 0;try{for(var m,E=e[Symbol.iterator]();!(y=(m=E.next()).done);y=!0){var A=m.value;A>=n&&A<v&&(v=A)}}catch(e){w=!0,b=e}finally{try{!y&&E.return&&E.return()}finally{if(w)throw b}}var O=g+1;v-n>D((j-o)/O)&&a("overflow"),o+=(v-n)*O,n=v;var C=!0,x=!1,S=void 0;try{for(var P,U=e[Symbol.iterator]();!(C=(P=U.next()).done);C=!0){var I=P.value;if(I<n&&++o>j&&a("overflow"),I==n){for(var _=o,T=36;;T+=36){var N=T<=i?1:T>=i+26?26:T-i;if(_<N)break;var B=_-N,k=36-N;t.push(R(F(N+B%k,0))),_=D(B/k)}t.push(R(F(_,0))),i=L(o,O,g==d),o=0,++g}}}catch(e){x=!0,S=e}finally{try{!C&&U.return&&U.return()}finally{if(x)throw S}}++o,++n}return t.join("")},q=function(e){return s(e,function(e){return U.test(e)?k(e.slice(4).toLowerCase()):e})},z=function(e){return s(e,function(e){return I.test(e)?"xn--"+M(e):e})},H={version:"2.1.0",ucs2:{decode:c,encode:N},decode:k,encode:M,toASCII:z,toUnicode:q},$={},J=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[\dA-F:.]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Z=void 0==="".match(/(){0}/)[1],V=/^\.\.?\//,Y=/^\/\.(\/|$)/,G=/^\/\.\.(\/|$)/,K=/^\/?(?:.|\n)*?(?=\/|$)/,Q={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},X={scheme:"https",domainHost:Q.domainHost,parse:Q.parse,serialize:Q.serialize},W={},ee="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",te="[0-9A-Fa-f]",re=r(r("%[EFef][0-9A-Fa-f]%"+te+te+"%"+te+te)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+te+te)+"|"+r("%"+te+te)),ne=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),oe=new RegExp(ee,"g"),ie=new RegExp(re,"g"),ue=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ne),"g"),ae=new RegExp(t("[^]",ee,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),fe=ae,se={scheme:"mailto",parse:function(e,t){var r=e.to=e.path?e.path.split(","):[];if(e.path=void 0,e.query){for(var n=!1,o={},i=e.query.split("&"),u=0,a=i.length;u<a;++u){var f=i[u].split("=");switch(f[0]){case"to":for(var s=f[1].split(","),c=0,h=s.length;c<h;++c)r.push(s[c]);break;case"subject":e.subject=O(f[1],t);break;case"body":e.body=O(f[1],t);break;default:n=!0,o[O(f[0],t)]=O(f[1],t)}}n&&(e.headers=o)}e.query=void 0;for(var l=0,p=r.length;l<p;++l){var d=r[l].split("@");if(d[0]=O(d[0]),t.unicodeSupport)d[1]=O(d[1],t).toLowerCase();else try{d[1]=H.toASCII(O(d[1],t).toLowerCase())}catch(t){e.error=e.error||"Email address's domain name can not be converted to ASCII via punycode: "+t}r[l]=d.join("@")}return e},serialize:function(e,t){var r=i(e.to);if(r){for(var n=0,u=r.length;n<u;++n){var a=String(r[n]),f=a.lastIndexOf("@"),s=a.slice(0,f).replace(ie,C).replace(ie,o).replace(ue,h),c=a.slice(f+1);try{c=t.iri?H.toUnicode(c):H.toASCII(O(c,t).toLowerCase())}catch(r){e.error=e.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}r[n]=s+"@"+c}e.path=r.join(",")}var l=e.headers=e.headers||{};e.subject&&(l.subject=e.subject),e.body&&(l.body=e.body);var p=[];for(var d in l)l[d]!==W[d]&&p.push(d.replace(ie,C).replace(ie,o).replace(ae,h)+"="+l[d].replace(ie,C).replace(ie,o).replace(fe,h));return p.length&&(e.query=p.join("&")),e}},ce=new RegExp("^urn\\:((?:[0-9A-Za-z][0-9A-Za-z\\-]{1,31}))$"),he={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(/^([^\:]+)\:(.*)/);if(r){var n="urn:"+r[1].toLowerCase(),o=$[n];o||(o=$[n]={scheme:n,parse:function(e,t){return e},serialize:$.urn.serialize}),e.scheme=n,e.path=r[2],e=o.parse(e,t)}else e.error=e.error||"URN can not be parsed.";return e},serialize:function(e,t){var r=e.scheme||t.scheme;if(r&&"urn"!==r){var n=r.match(ce)||["urn:"+r,r];e.scheme="urn",e.path=n[1]+":"+(e.path?e.path.replace(/[\x00-\x20\\\"\&\<\>\[\]\^\`\{\|\}\~\x7F-\xFF]/g,h):"")}return e}},le=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,pe={scheme:"urn:uuid",parse:function(e,t){return t.tolerant||e.path&&e.path.match(le)||(e.error=e.error||"UUID is not valid."),e},serialize:function(e,t){return t.tolerant||e.path&&e.path.match(le)?e.path=(e.path||"").toLowerCase():e.scheme=void 0,$.urn.serialize(e,t)}};$.http=Q,$.https=X,$.mailto=se,$.urn=he,$["urn:uuid"]=pe,e.SCHEMES=$,e.pctEncChar=h,e.pctDecChars=l,e.parse=d,e.removeDotSegments=v,e.serialize=y,e.resolveComponents=w,e.resolve=b,e.normalize=m,e.equal=E,e.escapeComponent=A,e.unescapeComponent=O,Object.defineProperty(e,"__esModule",{value:!0})})},{}]},{},[1])(1)});